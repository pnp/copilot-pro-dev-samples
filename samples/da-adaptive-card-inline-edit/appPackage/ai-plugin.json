{
  "$schema": "https://developer.microsoft.com/json-schemas/copilot/plugin/v2.2/schema.json",
  "schema_version": "v2.2",
  "namespace": "da_adaptive_card_inline_edit",
  "name_for_human": "Adaptive Card Inline Edit",
  "description_for_human": "Track your repair records",
  "description_for_model": "Plugin for searching a repair list, you can search by who's assigned to the repair.",
  "functions": [
    {
      "name": "listRepairs",
      "description": "Returns a list of repairs with their details and images",
      "capabilities": {
        "response_semantics": {
          "data_path": "$.results",
          "properties": {
            "title": "$.title",
            "subtitle": "$.description"
          },
          "static_template": {
            "file": "adaptiveCards/listRepairs.json"
          }
        }
      } 
    }, {
      "name": "updateRepair",
      "description": "Update fields of a repair record",
      "capabilities": {
        "response_semantics": {
          "data_path": "$",
          "properties": {
            "title": "$.updatedRepair.title",
            "subtitle": "$.updatedRepair.assignedTo"
          },
          "static_template": {
            "file": "adaptiveCards/updateRepair.json"
          }
        }
      }
    }   
  ],
  "runtimes": [
    {
      "type": "OpenApi",
      "auth": {
        "type": "ApiKeyPluginVault",
        "reference_id": "${{APIKEY_REGISTRATION_ID}}"
      },
      "spec": {
        "url": "apiSpecificationFile/repair.yml",
        "progress_style": "ShowUsageWithInputAndOutput"
      },
      "run_for_functions": ["listRepairs", "updateRepair"]
    }
  ],
  "capabilities": {
    "conversation_starters": [
      {
        "text": "List all repairs"
      }
    ]
  }
}
